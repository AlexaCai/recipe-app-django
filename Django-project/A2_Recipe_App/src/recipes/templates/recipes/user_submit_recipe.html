{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE-edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel&family=Lobster&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{% static 'recipes/css/style.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="{% static 'recipes/js/user-submit-recipe.js' %}" defer></script>
    <title>Cuisine atlas</title>
    <link rel="shortcut icon" href="../../../media/temporary-logo.jpg" type="image/x-icon">
</head>

<main>
    <header id="topsection">
        <div class="header-display">
            <nav class="navbar navbar-expand-md navbar-light nav justify-content-end">
                <div class="logo-container">
                    <img src="../../../media/temporary-logo.jpg" alt="ac-logo" class="logo-image">
                </div>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse nav justify-content-end" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item active">
                            <a class="nav-link" href="{% url 'recipes:home' %}">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'recipes:recipes_list_signed_users' %}">Recipes</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'accounts:profile' %}">Profile</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#projects-section">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{%url 'accounts:logout' %}">Logout</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </header>

    <body>
        <div class="first-image-background-submit-page text-center justify-content-center">
            <div class="row">
                <div class="col-xl-4 col-lg-3 col-md-3 col-sm-2 col-1">
                </div>
                <div class="col-xl-4 col-lg-6 col-md-6 col-sm-8 col-10 submit-recipe-form-background">
                    <h1 class="page-title">Submit a recipe</h1>
                    <br>
                    <h3 class="page-subtitle">Basic information</h3>
                    <br>
                    <form method="post" enctype="multipart/form-data" class="submit-recipe-form">
                        {% csrf_token %}
                        <div class="form-group form-group-space">
                            <label for="id_recipe_name"><b>Recipe name - Field required</b></label>
                            <input type="text" id="id_recipe_name" class="form-control" name="recipe_name" placeholder="e.g.: Tacos al pastor" required>
                        </div>
                        <div class="form-group form-group-space">
                            <label for="id_description"><b>Description - Field required</b></label>
                            <textarea id="id_description" class="form-control" name="description" rows="4" placeholder="e.g.: Tacos al pastor use traditional Mexican adobada..."></textarea>
                        </div>
                        <div class="form-group form-group-space">
                            <label for="id_special_note"><b>Special note</b> - Optional field</label>
                            <textarea id="id_special_note" class="form-control" name="special_note" rows="4" placeholder="e.g.: If you don't have pork, you can always use..."></textarea>
                        </div>
                        <div class="form-group form-group-space">
                            <label for="id_cooking_time"><b>Cooking Time - Field required (only number) </b></label>
                            <input type="number" id="id_cooking_time" class="form-control" name="cooking_time" placeholder="e.g.: 30"
                                required>
                        </div>
                        <div class="form-group form-group-space">
                            <label for="id_number_of_portions"><b>Number of Portions - Field required (only number)</b></label>
                            <input type="number" id="id_number_of_portions" class="form-control"
                                name="number_of_portions" placeholder="e.g.: 6" required>
                        </div>
                        <div class="form-group form-group-space">
                            <label for="id_recipe_estimated_cost"><b>Estimated cost ($) - Field required (only number)</b></label>
                            <input type="number" id="id_recipe_estimated_cost" class="form-control"
                                name="recipe_estimated_cost" placeholder="e.g.: 15" required>
                        </div>
                        <div class="form-group form-group-space">
                            <label for="{{ form.origin_country.id_for_label }}"><b>Origin country - Field required</b></label>
                            <select name="{{ form.origin_country.html_name }}" id="{{ form.origin_country.auto_id }}" class="form-select">
                                {% for choice in form.origin_country.field.choices %}
                                    <option value="{{ choice.0 }}" {% if form.origin_country.value == choice.0 %}selected{% endif %}>{{ choice.1 }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="form-group form-group-space">
                            <label for="{{ form.recipe_category.id_for_label }}"><b>Recipe category - Field required</b></label>
                            <select name="{{ form.recipe_category.html_name }}" id="{{ form.recipe_category.auto_id }}" class="form-select">
                                {% for choice in form.recipe_category.field.choices %}
                                    <option value="{{ choice.0 }}" {% if form.recipe_category.value == choice.0 %}selected{% endif %}>{{ choice.1 }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="form-group form-group-space">
                            <label for="id_pic"><b>Recipe picture - Field required</b></label>
                            <input type="file" id="id_pic" name="pic" class="form-control">
                        </div>  
                        <br>
                        <h3 class="page-subtitle">Ingredients</h3>
                        <h5 class="submit-recipe-form-directives">*Enter only one ingredient at time*</h5>
                        <br>                     
                        <div id="ingredients-formset-container">
                            <div class="formset">
                                {{ formset.management_form }}
                                {% for form in formset %}
                                    <div class="formset">
                                        {{ form.id }}
                                        <div class="form-group form-group-space">
                                            <label for="{{ form.ingredient_name.id_for_label }}"><b>Ingredient - Field required</b></label>
                                                <input type="text" id="{{ form.ingredient_name.auto_id }}" class="form-control" name="{{ form.ingredient_name.html_name }}" placeholder="e.g.: Tortillas" required>
                                        </div>
                                        <div class="form-group form-group-space">
                                            <label for="{{ form.quantity.id_for_label }}"><b>Quantity - Field required (only number)</b></label>
                                                <input type="number" id="{{ form.quantity.auto_id }}" class="form-control" name="{{ form.quantity.html_name }}" placeholder="e.g.: 25" required>                                            </div>
                                        <div class="form-group form-group-space">
                                            <label for="{{ form.unit_of_measurement.id_for_label }}"><b>Measurement unit - Field required</b></label>
                                            <select name="{{ form.unit_of_measurement.html_name }}" id="{{ form.unit_of_measurement.auto_id }}" class="form-select">
                                                {% for choice in form.unit_of_measurement.field.choices %}
                                                    <option value="{{ choice.0 }}" {% if form.unit_of_measurement.value == choice.0 %}selected{% endif %}>{{ choice.1 }}</option>
                                                {% endfor %}
                                            </select>
                                        </div>
                                        <div class="form-group form-group-space">
                                            <label for="{{ form.possible_substitute.id_for_label }}"><b>Possible substitute</b> - Optional field</label>
                                            <input type="text" id="{{ form.possible_substitute.auto_id }}" class="form-control" name="{{ form.possible_substitute.html_name }}" placeholder="e.g.: Pitas">
                                        </div>
                                        <div class="form-group form-group-space">
                                            <label for="{{ form.substitue_special_note.id_for_label }}"><b>Substitute special note</b> - Optional field</label>
                                            <textarea id="{{ form.substitue_special_note.auto_id }}" class="form-control" name="{{ form.substitue_special_note.html_name }}" rows="6" placeholder="e.g.: If tortillas are not available, pitas can be used to..."></textarea>
                                        </div>
                                    </div>
                                {% endfor %}
                            </div>
                        </div>
                        <br>
                        <button type="button" id="add-form" class="btn btn-dark">Add Ingredient</button>
                        <br>
                        <br>
                        <h3 class="page-subtitle">Allergen(s)</h3>
                        <h5 class="submit-recipe-form-directives">*Enter only one allergen at time*</h5>
                        <br>
                        <div id="allergens-formset-container">
                            <div class="allergen_formset">
                                {{ allergens_formset.management_form }}
                                {% for form in allergens_formset %}
                                <div class="allergen_formset">
                                    {{ form.id }}
                                    <div class="form-group form-group-space">
                                        <label for="{{ form.allergen.id_for_label }}"><b>Allergen</b> - Optional field</label>
                                            <input type="text" id="{{ form.allergen.auto_id }}" class="form-control" name="{{ form.allergen.html_name }}" placeholder="e.g.: coriander">
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                        <br>
                        <button type="button" id="allergen-form" class="btn btn-dark">Add allergen</button>
                        <br>
                        <br>
                        <h3 class="page-subtitle">Instructions</h3>
                        <h5 class="submit-recipe-form-directives">*Enter only one step/description at time*</h5>
                        <h5 class="submit-recipe-form-directives">*Make sure to give enough directions*</h5>
                        <br>
                        <div id="cooking-instructions-formset-container">
                            <div class="cooking_instructions_formset">
                                {{ cooking_instructions_formset.management_form }}
                                {% for form in cooking_instructions_formset %}
                                <div class="cooking_instructions_formset">
                                    {{ form.id }}
                                    <div class="form-group form-group-space">
                                        <label for="{{ form.step_name.id_for_label }}"><b>Step - Required field</b></label>
                                            <input type="text" id="{{ form.step_name.auto_id }}" class="form-control" name="{{ form.step_name.html_name }}" placeholder="e.g.: Step 1 - Preparing" required>
                                    </div>
                                    <div class="form-group form-group-space">
                                        <label for="{{ form.step_instruction.id_for_label }}"><b>Description - Field required</b></label>
                                            <input type="text" id="{{ form.step_instruction.auto_id }}" class="form-control" name="{{ form.step_instruction.html_name }}" placeholder="e.g.: Marinate the meat for..." required>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                        <br>
                        <button type="button" id="cooking-instructions-form" class="btn btn-dark">Add step</button>
                        <br>
                        <br>
                        <h3 class="page-subtitle">Cooking tools</h3>
                        <h5 class="submit-recipe-form-directives">*Enter only one cooking tool at time*</h5>
                        <br>
                        <div id="recipe-tools-formset-container">
                            <div class="recipe_tools_formset">
                                {{ recipe_tools_formset.management_form }}
                                {% for form in recipe_tools_formset %}
                                <div class="recipe_tools_formset">
                                    {{ form.id }}
                                    <div class="form-group form-group-space">
                                        <label for="{{ form.cooking_tool_name.id_for_label }}"><b>Cooking tools - Field required</b></label>
                                            <input type="text" id="{{ form.cooking_tool_name.auto_id }}" class="form-control" name="{{ form.cooking_tool_name.html_name }}" placeholder="e.g: Measuring cup" required>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                        <br>
                        <button type="button" id="recipe-tools-form" class="btn btn-dark">Add tool</button>
                        <br>
                        <br>
                        <h3 class="page-subtitle">Similar recipes</h3>
                        <h5 class="submit-recipe-form-directives">*Enter only one similar recipe at time*</h5>
                        <br>
                        <div id="recipe-similar-complementary-formset-container">
                            <div class="recipe_similar_complementary_formset">
                                {{ recipe_similar_complementary_formset.management_form }}
                                {% for form in recipe_similar_complementary_formset %}
                                <div class="recipe_similar_complementary_formset">
                                    {{ form.id }}
                                    <div class="form-group form-group-space">
                                        <label for="{{ form.complementary_recipe_name.id_for_label }}"><b>Similar recipe</b> - Optional field</label>
                                            <input type="text" id="{{ form.complementary_recipe_name.auto_id }}" class="form-control" name="{{ form.complementary_recipe_name.html_name }}" placeholder="e.g: Tacos suadero">
                                    </div>
                                    <div class="form-group form-group-space">
                                        <label for="{{ form.complementary_recipe_link_unsigned_users.id_for_label }}"><b>Similar recipe url</b> - Optional field</label>
                                            <input type="text" id="{{ form.complementary_recipe_link_unsigned_users.auto_id }}" class="form-control" name="{{ form.complementary_recipe_link_unsigned_users.html_name }}" placeholder="http://tablespoondiscovery/recipes-detail-unsigned-users/7">
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                        <br>
                        <button type="button" id="recipe-similar-complementary-form" class="btn btn-dark">Add similar
                            recipe</button>
                        <br>
                        <br>
                        <button type="submit" value="submit" class="btn btn-dark">Submit recipe</button>
                    </form>
                </div>
                <div class="col-xl-4 col-lg-3 col-md-3 col-sm-2 col-1">
                </div>
            </div>
        </div>
        <div class=" row second-image-background">
        </div>
        <div class=" row third-image-background">
        </div>
        <div class=" row fourth-image-background">
        </div>
    </body>
    <footer>

    </footer>

    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>
    <script src="{% static 'recipes/js/javascript.js' %}"></script>

</main>

</html>